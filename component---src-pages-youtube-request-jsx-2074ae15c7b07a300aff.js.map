{"version":3,"file":"component---src-pages-youtube-request-jsx-2074ae15c7b07a300aff.js","mappings":"gJAKA,SAASA,EAASC,GAEhB,IAAMC,EAAOC,SAASC,cAAc,QACpCF,EAAKG,aAAa,SAAU,OAC5BH,EAAKG,aAAa,SAAU,gDAG5B,IAAMC,EAAS,CACbC,UAAW,2EACXC,aAAiBP,EAAL,oBACZQ,cAAe,QACfC,MAAO,kDAIT,IAAK,IAAMC,KAAKL,EAAQ,CACtB,IAAMM,EAAQT,SAASC,cAAc,SACrCQ,EAAMP,aAAa,OAAQ,UAC3BO,EAAMP,aAAa,OAAQM,GAC3BC,EAAMP,aAAa,QAASC,EAAOK,IACnCT,EAAKW,YAAYD,GAInBT,SAASW,KAAKD,YAAYX,GAC1BA,EAAKa,SAsBP,UAnBc,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACTC,EAA4D,SAArD,IAAIC,gBAAgBF,EAASG,QAAQC,IAAI,QAQtD,OANAC,EAAAA,EAAAA,YAAU,WACJJ,GACFjB,EAASgB,EAASf,UAEnB,CAACgB,EAAMD,EAASf,SAGjB,2BACE,4CACA,0BAAQqB,QAAS,kBAAMtB,EAASgB,EAASf,UAAzC","sources":["webpack://glasto-webcam-gif/./src/pages/youtube-request.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\n/*\n * Create form to request access token from Google's OAuth 2.0 server.\n */\nfunction onSubmit(origin) {\n  // Create <form> element to submit parameters to OAuth 2.0 endpoint.\n  const form = document.createElement('form');\n  form.setAttribute('method', 'GET'); // Send as a GET request.\n  form.setAttribute('action', 'https://accounts.google.com/o/oauth2/v2/auth');\n\n  // Parameters to pass to OAuth 2.0 endpoint.\n  const params = {\n    client_id: '580658835996-0keodgpafcb5vfbv55jb0t3ed9uil932.apps.googleusercontent.com',\n    redirect_uri: `${origin}/youtube-redirect`,\n    response_type: 'token',\n    scope: 'https://www.googleapis.com/auth/youtube.upload',\n  };\n\n  // Add form parameters as hidden input values.\n  for (const p in params) {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'hidden');\n    input.setAttribute('name', p);\n    input.setAttribute('value', params[p]);\n    form.appendChild(input);\n  }\n\n  // Add form to page and submit it to open the OAuth 2.0 endpoint.\n  document.body.appendChild(form);\n  form.submit();\n}\n\nconst Thing = ({ location }) => {\n  const auto = new URLSearchParams(location.search).get('auto') === 'true';\n\n  useEffect(() => {\n    if (auto) {\n      onSubmit(location.origin);\n    }\n  }, [auto, location.origin])\n\n  return (\n    <div>\n      <h1>Request access</h1>\n      <button onClick={() => onSubmit(location.origin)}>\n        Get token\n      </button>\n    </div>\n  );\n}\n\nexport default Thing;\n"],"names":["onSubmit","origin","form","document","createElement","setAttribute","params","client_id","redirect_uri","response_type","scope","p","input","appendChild","body","submit","location","auto","URLSearchParams","search","get","useEffect","onClick"],"sourceRoot":""}