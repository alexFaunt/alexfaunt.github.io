{"version":3,"file":"component---src-pages-index-jsx-738c587e54dfddf989fa.js","mappings":"0GAIAA,EAAOC,QAAU,CACfC,QAHc,MAIdC,kBANwB,SAACC,GAAD,OAAUA,EAAKC,cAAcC,QAAQ,OAAQ,O,iHCavE,EAXiB,SAAC,GAAD,QAAGC,UAAAA,OAAH,MAAe,GAAf,SACf,uBAAKA,UAAWA,EAAWC,MAAM,6BAA6BC,QAAQ,iBAAiBC,KAAK,QAC1F,wBAAMA,KAAK,UAAUC,EAAE,kjBAEvB,wBAAMD,KAAK,UAAUC,EAAE,8FAEvB,wBAAMD,KAAK,OAAOC,EAAE,wnE,UCAlBC,GAAcC,EAAAA,EAAAA,mBAAH,8BAMXC,EAAK,8FAOLC,EAAQC,EAAAA,QAAAA,GAAAA,WAAH,wDAAGA,CAAH,yBACPF,GAIEG,EAAWD,EAAAA,QAAAA,GAAAA,WAAH,2DAAGA,CAAH,0BACVF,GAIEI,EAAUF,EAAAA,QAAAA,OAAAA,WAAH,0DAAGA,CAAH,6OAiBK,qBAAGG,SAA0B,OAAS,iBAIlDC,EAAcJ,EAAAA,QAAAA,IAAAA,WAAH,8DAAGA,CAAH,mGAQXK,EAAaL,EAAAA,QAAAA,EAAAA,WAAH,6DAAGA,CAAH,+CAKVM,GAAeN,EAAAA,EAAAA,SAAOO,GAAV,0EAAGP,CAAH,iBAIZQ,EAAQR,EAAAA,QAAAA,MAAAA,WAAH,wDAAGA,CAAH,oCAKLS,EAAUT,EAAAA,QAAAA,EAAAA,WAAH,0DAAGA,CAAH,MAGPU,EAAUV,EAAAA,QAAAA,QAAAA,WAAH,0DAAGA,CAAH,kCAKPW,EAAOX,EAAAA,QAAAA,IAAAA,WAAH,uDAAGA,CAAH,+DAMJY,EAAM,MA8CZ,EA5Ca,WACX,IAAMC,GAAgB1B,EAAAA,EAAAA,mBAAkB,IAAI2B,KAAKA,KAAKC,MAAQ7B,EAAAA,UAAUI,QAAQ,KAAM,KAChF0B,EAAOH,EAAcvB,QAAQ,QAAS,IAE5C,GAAkC2B,EAAAA,EAAAA,IAAc,OAAQC,EAAAA,IAAjDC,EAAP,KAAkBC,EAAlB,KAEMC,GAAcF,GAAaN,GAAeS,cAC1CC,EAAaF,IAAeT,EAAMI,EAAOK,EAEzCG,GAAmBC,EAAAA,EAAAA,cAAY,WACnCL,EAAaP,KACZ,CAACO,EAAcP,IACZa,GAAaD,EAAAA,EAAAA,cAAY,WAC7BL,EAAaR,KACZ,CAACQ,IAEJ,OACE,2BACE,gBAACxB,EAAD,MACA,gBAACG,EAAD,qBACA,gBAACE,EAAD,yBAA2B,gBAACQ,EAAD,CAASkB,KAAK,mDAAd,0BAA3B,yCAEA,gBAACvB,EAAD,KACE,qDAAkC,gBAACC,EAAD,CAAYsB,KAAK,sCAAjB,aAAgE,gBAACrB,EAAD,QAGpG,gBAACK,EAAD,KACE,gBAACT,EAAD,CAASC,SAAUkB,IAAeR,EAAee,QAASJ,GAA1D,aACA,gBAACtB,EAAD,CAASC,SAAUkB,IAAeT,EAAKgB,QAASF,GAAhD,0BAGF,gBAAChB,EAAD,4CACA,gBAACF,EAAD,CAAOjB,UAAU,QAAQsC,UAAQ,EAACC,OAAK,EAACC,UAAQ,GAC9C,0BAAQC,IAAG,kCAAoCT,EAApC,eAA8DU,KAAK,eAGhF,gBAACvB,EAAD,2BACA,gBAACF,EAAD,CAAOjB,UAAU,QAAQuC,OAAK,EAACC,UAAQ,GACrC,0BAAQC,IAAG,kCAAoCT,EAApC,gBAA+DU,KAAK","sources":["webpack://glasto-webcam-gif/./src/helpers.js","webpack://glasto-webcam-gif/./src/atoms/water-aid.js","webpack://glasto-webcam-gif/./src/pages/index.jsx"],"sourcesContent":["const extractDateString = (date) => date.toISOString().replace(/T.*$/, '');\n\nconst ONE_DAY = 24 * 60 * 60 * 1000;\n\nmodule.exports = {\n  ONE_DAY,\n  extractDateString,\n}\n","import React from 'react';\n\nconst WaterAid = ({ className = '' }) => (\n  <svg className={className} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 283.5 87.6\" fill=\"none\">\n    <path fill=\"#00aeef\" d=\"M41 5.1C41 2.3 38.7 0 35.8 0c-2.8 0-5.1 2.3-5.1 5.1v23c0 1.4-1.1 2.6-2.6 2.6s-2.6-1.1-2.6-2.6v-23c0-2.8-2.3-5.1-5.1-5.1s-5.1 2.3-5.1 5.1v23c0 1.4-1.1 2.6-2.6 2.6-1.4 0-2.6-1.1-2.6-2.6v-23c.1-2.8-2.2-5.1-5-5.1S0 2.3 0 5.1v30.7c0 2.8 2.3 5.1 5.1 5.1h30.8c2.8 0 5.1-2.3 5.1-5.1V5.1zM41 51.2c0-2.8-2.3-5.1-5.1-5.1H2.6c-1.4 0-2.6 1.1-2.6 2.6v2.6c0 2.8 2.3 5.1 5.1 5.1h23c1.4 0 2.6 1.1 2.6 2.6v11.5c0 6.2-5.6 11.2-12 10.1-5.2-.9-8.7-5.5-8.5-10.7.1-2.4.9-4.5 2.1-6.4.6-.9 0-2-1-2H5.1c-2.8 0-5.1 2.3-5.1 5.1V82c0 2.8 2.3 5.1 5.1 5.1h30.7c2.8 0 5.1-2.3 5.1-5.1V51.2z\">\n    </path>\n    <path fill=\"#00aeef\" d=\"M25.6 70.4v-7.7c0-.7-.6-1.3-1.3-1.3-2.6 0-9 3.2-9 9 0 2.8 2.3 5.1 5.1 5.1s5.2-2.3 5.2-5.1\">\n    </path>\n    <path fill=\"#000\" d=\"M140.7 51.9v3.6h6.9c.6 0 1.2.5 1.2 1.2v4.4c0 1.3-1.1 2.4-2.4 2.4h-5.7v11.7c0 3 .9 4.1 3.4 4.1 1.3 0 2.3-.3 3.3-.9.6-.4 1.3-.2 1.5.4.5 1.2 1.9 4.7 1.9 4.7.2.6.1 1.1-.4 1.4-2.1 1.6-5.9 2.6-9.5 2.6-6.7 0-10-3.5-10-10.7V50.7c0-.6.5-1.2 1.2-1.2h6.2c1.4.1 2.4 1.1 2.4 2.4zm-41.4-5.8H93c-.6 0-1 .4-1.2.9l-6 25.7-6.5-24.8c-.3-1.1-1.3-1.8-2.4-1.8h-6.7c-.5 0-1 .4-1.2.9l-6.7 25.4-5.8-24.5c-.3-1.1-1.2-1.8-2.4-1.8h-6.9c-.8 0-1.3.7-1.1 1.5l9.8 37.7c.3 1.1 1.3 1.8 2.4 1.8h8.3c.5 0 1-.4 1.2-.9L74 62.6l6 22.7c.3 1 1.3 1.8 2.4 1.8h8.3c.5 0 1-.4 1.2-.9l9.7-37.1c.3-1.6-.8-3-2.3-3zm184.2 2.4v34.1c0 .8-.5 1.6-1.3 2.1-3.2 2.1-6.5 2.9-11.2 2.9-10.2 0-17.1-5.6-17.1-16.2 0-10.5 6.6-16.3 14-16.3 2.4 0 4.1.4 5.6 1.2h.1v-9c0-.6.5-1.2 1.2-1.2h6.3c1.3 0 2.4 1 2.4 2.4zm-9.9 15.9c-1.2-.8-2.2-1.2-3.8-1.2-4.4 0-6.8 2.9-6.8 7.9 0 5.5 2.9 8.6 8.3 8.6.5 0 1.5-.1 2.4-.3v-15zm-156.2 3.3v-1c0-2.8-2.9-4.1-5.6-4.1-2.7 0-5.1.9-6.9 1.7-.6.3-1.3 0-1.6-.7-.4-1.2-1.6-4.7-1.6-4.7-.2-.6.1-1.2.6-1.4 3.6-1.6 7.3-2.4 11.2-2.4 8.9 0 13.4 3.8 13.4 11.3v17.4c0 1.1-.8 2-2 2.3-3.4 1.1-6.7 1.5-11 1.5-9.5 0-14.9-3.4-14.9-9.7 0-6.7 6.2-10.3 14.6-10.3.9 0 3.8.1 3.8.1zm0 5.8s-1.4-.3-3.3-.3c-3.4 0-5.9 1.8-5.9 4.2 0 2.2 2.2 3.8 5.3 3.8 1 0 2.9-.1 3.9-.3v-7.4zm83.4 10.9l12.8-37.6c.2-.5.6-.8 1.1-.8h8.6c1 0 1.9.6 2.3 1.6l13 37.8c.3.8-.3 1.5-1.1 1.5h-6.7c-1.3 0-2.5-.9-2.9-2.1l-1.9-6.4h-13l-2.3 7.6c-.2.6-.7 1-1.3 1h-6.8c-1.3.1-2.2-1.3-1.8-2.6zm14.3-13h8.7l-4.3-14.7-4.4 14.7zm27.3-14.8c-.6 0-1.2.5-1.2 1.2v26.9c0 1.3 1.1 2.4 2.4 2.4h6.2c.6 0 1.2-.5 1.2-1.2V59c0-1.3-1.1-2.4-2.4-2.4h-6.2zm3.7-11.7c-2.9 0-4.9 1.8-4.9 4.6 0 2.7 2 4.6 4.9 4.6 2.9 0 4.9-1.8 4.9-4.6s-2-4.6-4.9-4.6zm-56.4 10.7h-5c-.6 0-1.2.5-1.2 1.2v27.9c0 1.3 1.1 2.4 2.4 2.4h6.2c.6 0 1.2-.5 1.2-1.2V71.1c0-4.3 2.9-7.5 6.8-7.5 1.1 0 1.8 0 2.4.2.6.1 1.2-.2 1.3-.8l1.8-5.9c.2-.6-.2-1.3-.8-1.4-.9-.3-2.3-.6-4.2-.6-3.2 0-6.4 1.7-8.5 4.6V58c0-1.3-1.1-2.4-2.4-2.4zm-10.5 18.5h-19.3c.6 3.7 4.7 5.7 8.4 5.7 2.3 0 3.7-.3 5.9-1.1.6-.2 1.2.1 1.5.6l1.9 4.7c.2.6 0 1.2-.6 1.5-3.1 1.5-6 2-9.6 2-11.7 0-16.3-7.5-16.3-16 0-10.3 5.6-16.5 15-16.5 8.3 0 14.4 5.1 14.4 14.2 0 1.3-.1 2.4-.2 3.8 0 .6-.5 1.1-1.1 1.1zm-7.1-6.2c0-2-1.9-5.4-5.8-5.4s-6.4 3.2-6.4 5.4h12.2z\">\n    </path>\n  </svg>\n);\n\nexport default WaterAid;\n","import React from 'react';\nimport { useCallback } from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { useQueryParam, StringParam } from \"use-query-params\";\n\nimport WaterAid from '../atoms/water-aid';\nimport { ONE_DAY, extractDateString } from '../helpers';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    font-family: arial;\n  }\n`;\n\nconst title = `\n  text-align: center;\n  font-weight: normal;\n  margin-top: 0;\n  margin-bottom: 1rem;\n`\n\nconst Title = styled.h1`\n  ${title}\n  margin-top: 1rem;\n`;\n\nconst SubTitle = styled.h2`\n  ${title}\n  font-size: 1.2rem;\n`;\n\nconst DateTab = styled.button`\n  font-size: 1rem;\n  padding: 0.2rem 0.1rem 0.6rem;\n  margin: 0 0.5rem;\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n  position: relative;\n\n  &::after {\n    content: '';\n    display: block;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 0.3rem;\n    background: ${({ selected }) => selected ? 'blue' : 'transparent' };\n  }\n`;\n\nconst DonateBlock = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  font-size: 1.2rem;\n  margin-bottom: 2rem;\n`;\n\nconst DonateLink = styled.a`\n  display: inline-block;\n  margin-left: 0.25rem;\n`;\n\nconst WaterAidLogo = styled(WaterAid)`\n  height: 2em;\n`;\n\nconst Video = styled.video`\n  width: 100%;\n  margin-bottom: 2rem;\n`;\n\nconst BBCLink = styled.a`\n`;\n\nconst Caption = styled.caption`\n  display: block;\n  margin: 0.2rem;\n`\n\nconst Tabs = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1.8rem;\n`;\n\nconst ALL = 'all';\n\nconst Home = () => {\n  const yesterdayPath = extractDateString(new Date(Date.now() - ONE_DAY)).replace(/-/g, '/');\n  const year = yesterdayPath.replace(/\\/.*$/, '');\n\n  const [paramDate, setParamDate] = useQueryParam('date', StringParam);\n\n  const targetDate = (paramDate || yesterdayPath).toLowerCase();\n  const targetPath = targetDate === ALL ? year : targetDate;\n\n  const onYesterdayClick = useCallback(() => {\n    setParamDate(yesterdayPath);\n  }, [setParamDate, yesterdayPath])\n  const onAllClick = useCallback(() => {\n    setParamDate(ALL);\n  }, [setParamDate])\n\n  return (\n    <div>\n      <GlobalStyle />\n      <Title>Glastolapse!</Title>\n      <SubTitle>Timelapse of the <BBCLink href=\"https://www.bbc.co.uk/events/glastonbury/webcam\">BBC glastonbury webcam</BBCLink> - I claim no rights over the content</SubTitle>\n\n      <DonateBlock>\n        <span>If you like this then</span><DonateLink href=\"https://www.wateraid.org/uk/donate\">donate to <WaterAidLogo /></DonateLink>\n      </DonateBlock>\n\n      <Tabs>\n        <DateTab selected={targetDate === yesterdayPath} onClick={onYesterdayClick}>yesterday</DateTab>\n        <DateTab selected={targetDate === ALL} onClick={onAllClick}>28th May to yesterday</DateTab>\n      </Tabs>\n\n      <Caption>Zoomed view of the central festival</Caption>\n      <Video className=\"video\" autoPlay muted controls>\n        <source src={`https://videos.glastolapse.com/${targetPath}/pyramid.mp4`} type=\"video/mp4\" />\n      </Video>\n\n      <Caption>Full site panorama</Caption>\n      <Video className=\"video\" muted controls>\n        <source src={`https://videos.glastolapse.com/${targetPath}/panorama.mp4`} type=\"video/mp4\" />\n      </Video>\n    </div>\n  )\n}\n\nexport default Home;\n"],"names":["module","exports","ONE_DAY","extractDateString","date","toISOString","replace","className","xmlns","viewBox","fill","d","GlobalStyle","createGlobalStyle","title","Title","styled","SubTitle","DateTab","selected","DonateBlock","DonateLink","WaterAidLogo","WaterAid","Video","BBCLink","Caption","Tabs","ALL","yesterdayPath","Date","now","year","useQueryParam","StringParam","paramDate","setParamDate","targetDate","toLowerCase","targetPath","onYesterdayClick","useCallback","onAllClick","href","onClick","autoPlay","muted","controls","src","type"],"sourceRoot":""}